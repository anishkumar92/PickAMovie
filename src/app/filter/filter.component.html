<!-- src/app/filter/filter.component.html -->
<div class="filter-wrapper" [class.expanded]="isExpanded">
    <!-- Filter toggle button in the top-right corner -->
    <button class="filter-toggle-btn" (click)="toggleExpand()" [class.active]="isExpanded">
      <i class="fas fa-filter"></i>
      <span>Filters</span>
      <i class="fas" [ngClass]="isExpanded ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
    </button>
  
    <!-- Floating filter panel -->
    <div class="filter-panel" *ngIf="isExpanded">
      <!-- Sort By -->
      <div class="filter-section">
        <h4 class="section-title">Sort By</h4>
        <div class="radio-group">
          <label class="radio-option" *ngFor="let option of sortOptions">
            <input type="radio" name="sortBy" [value]="option.value" [(ngModel)]="filterModel.sortBy">
            <span class="radio-label">{{ option.label }}</span>
          </label>
        </div>
      </div>
  
      <!-- Release Year Range -->
      <div class="filter-section">
        <h4 class="section-title">Release Year</h4>
        <div class="year-range">
          <div class="year-input">
            <label>From</label>
            <input 
              type="number" 
              [(ngModel)]="filterModel.yearFrom" 
              placeholder="1900" 
              min="1900" 
              [max]="currentYear">
          </div>
          <div class="year-input">
            <label>To</label>
            <input 
              type="number" 
              [(ngModel)]="filterModel.yearTo" 
              placeholder="{{ currentYear }}"
              min="1900" 
              [max]="currentYear">
          </div>
        </div>
      </div>
  
      <!-- Runtime Range (Minutes) - For Movies Only -->
      <div class="filter-section" *ngIf="showMovies">
        <h4 class="section-title">Runtime (Minutes)</h4>
        <div class="range-slider">
          <div class="range-values">
            <span>{{ filterModel.runtimeMin || 0 }}</span>
            <span>{{ filterModel.runtimeMax || '300+' }}</span>
          </div>
          <div class="slider-control">
            <input type="range" [(ngModel)]="filterModel.runtimeMin" min="0" max="300" step="15" class="slider">
          </div>
        </div>
      </div>
  
      <!-- User Score (Vote Average) -->
      <div class="filter-section">
        <h4 class="section-title">User Score</h4>
        <div class="range-slider">
          <div class="range-values">
            <span>{{ filterModel.voteMin || 0 }}</span>
            <span>{{ filterModel.voteMax || 10 }}</span>
          </div>
          <div class="slider-control">
            <input type="range" [(ngModel)]="filterModel.voteMin" min="0" max="10" step="0.5" class="slider">
          </div>
        </div>
      </div>
  
      <!-- Vote Count Minimum -->
      <div class="filter-section">
        <h4 class="section-title">Minimum Votes</h4>
        <select [(ngModel)]="filterModel.voteCount" class="filter-select">
          <option [value]="0">No Minimum</option>
          <option [value]="100">100+ votes</option>
          <option [value]="500">500+ votes</option>
          <option [value]="1000">1,000+ votes</option>
          <option [value]="5000">5,000+ votes</option>
          <option [value]="10000">10,000+ votes</option>
        </select>
      </div>
  
      <!-- Watch Providers (Streaming Services) -->
      <div class="filter-section">
        <h4 class="section-title">Available On</h4>
        <div class="provider-options">
          <div class="provider-checkbox" *ngFor="let provider of availableProviders">
            <label>
              <input type="checkbox" [value]="provider.id" (change)="toggleProvider(provider.id, $event)">
              <img *ngIf="provider.logo_path" [src]="'https://image.tmdb.org/t/p/original' + provider.logo_path" [alt]="provider.name" class="provider-logo">
            </label>
          </div>
        </div>
      </div>
  
      <!-- Filter Actions -->
      <div class="filter-actions">
        <button class="reset-btn" (click)="resetFilters()">
          <i class="fas fa-undo"></i> Reset
        </button>
        <button class="apply-btn" (click)="applyFilters()">
          <i class="fas fa-check"></i> Apply
        </button>
      </div>
    </div>
  </div>